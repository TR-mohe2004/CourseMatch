/* Tablets */

input[type="submit"],
button {
  -webkit-appearance: none;
  appearance: none;
}

@media (max-width: 1024px) {
  /* Basic */

  html {
    -webkit-text-size-adjust: 100%;
  }

  td,
  th {
    padding: 10px;
    font-size: 0.875rem;
  }

  .small {
    font-size: 0.75rem;
  }

  /* Layout */

  #container {
    min-inline-size: 0;
  }

  #content {
    padding: 15px 20px 20px;
  }

  div.breadcrumbs {
    padding: 10px 30px;
  }

  /* Header */

  #header {
    flex-direction: column;
    padding: 15px 30px;
    justify-content: flex-start;
  }

  #site-name {
    margin: 0 0 8px;
    line-height: 1.2;
  }

  #user-tools {
    margin: 0;
    font-weight: 400;
    line-height: 1.85;
    text-align: start;
  }

  #user-tools a {
    display: inline-block;
    line-height: 1.4;
  }

  /* Dashboard */

  .dashboard #content {
    inline-size: auto;
  }

  #content-related {
    margin-inline-end: -290px;
  }

  .colSM #content-related {
    margin-inline-start: -290px;
  }

  .colMS {
    margin-inline-end: 290px;
  }

  .colSM {
    margin-inline-start: 290px;
  }

  .dashboard .module table td a {
    padding-inline-end: 0;
  }

  td .changelink,
  td .addlink {
    font-size: 0.8125rem;
  }

  /* Changelist */

  #toolbar {
    border: none;
    padding: 15px;
  }

  #changelist-search > div {
    display: flex;
    flex-wrap: nowrap;
    max-inline-size: 480px;
  }

  #changelist-search label {
    line-height: 1.375rem;
  }

  #toolbar form #searchbar {
    flex: 1 0 auto;
    inline-size: 0;
    block-size: 1.375rem;
    margin: 0 10px 0 6px;
  }

  #toolbar form input[type="submit"] {
    flex: 0 1 auto;
  }

  #changelist-search .quiet {
    inline-size: 0;
    flex: 1 0 auto;
    margin: 5px 0 0 25px;
  }

  #changelist .actions {
    display: flex;
    flex-wrap: wrap;
    padding: 15px 0;
  }

  #changelist .actions label {
    display: flex;
  }

  #changelist .actions select {
    background: var(--body-bg);
  }

  #changelist .actions .button {
    min-inline-size: 48px;
    margin: 0 10px;
  }

  #changelist .actions span.all,
  #changelist .actions span.clear,
  #changelist .actions span.question,
  #changelist .actions span.action-counter {
    font-size: 0.6875rem;
    margin: 0 10px 0 0;
  }

  #changelist-filter {
    flex-basis: 200px;
  }

  .change-list .filtered .results,
  .change-list .filtered .paginator,
  .filtered #toolbar,
  .filtered .actions,
  #changelist .paginator {
    border-block-start-color: var(
      --hairline-color
    ); /* XXX Is this used at all? */
  }

  #changelist .results + .paginator {
    border-block-start: none;
  }

  /* Forms */

  label {
    font-size: 1rem;
  }

  /*
    Minifiers remove the default (text) "type" attribute from "input" HTML
    tags. Add input:not([type]) to make the CSS stylesheet work the same.
    */
  .form-row input:not([type]),
  .form-row input[type="text"],
  .form-row input[type="password"],
  .form-row input[type="email"],
  .form-row input[type="url"],
  .form-row input[type="tel"],
  .form-row input[type="number"],
  .form-row textarea,
  .form-row select,
  .form-row .vTextField {
    box-sizing: border-box;
    margin: 0;
    padding: 6px 8px;
    min-block-size: 2.25rem;
    font-size: 1rem;
  }

  .form-row select {
    block-size: 2.25rem;
  }

  .form-row select[multiple] {
    block-size: auto;
    min-block-size: 0;
  }

  fieldset .fieldBox + .fieldBox {
    margin-block-start: 10px;
    padding-block-start: 10px;
    border-block-start: 1px solid var(--hairline-color);
  }

  textarea {
    max-inline-size: 100%;
    max-block-size: 120px;
  }

  .aligned label {
    padding-block-start: 6px;
  }

  .aligned .related-lookup,
  .aligned .datetimeshortcuts,
  .aligned .related-lookup + strong {
    align-self: center;
    margin-inline-start: 15px;
  }

  form .aligned div.radiolist {
    margin-inline-start: 2px;
  }

  .submit-row {
    padding: 8px;
  }

  .submit-row a.deletelink {
    padding: 10px 7px;
  }

  .button,
  input[type="submit"],
  input[type="button"],
  .submit-row input,
  a.button {
    padding: 7px;
  }

  /* Selector */

  .selector {
    display: flex;
    inline-size: 100%;
  }

  .selector .selector-filter {
    display: flex;
    align-items: center;
  }

  .selector .selector-filter input {
    inline-size: 100%;
    min-block-size: 0;
    flex: 1 1;
  }

  .selector-available,
  .selector-chosen {
    inline-size: auto;
    flex: 1 1;
    display: flex;
    flex-direction: column;
  }

  .selector select {
    inline-size: 100%;
    flex: 1 0 auto;
    margin-block-end: 5px;
  }

  .selector-chooseall,
  .selector-clearall {
    align-self: center;
  }

  .stacked {
    flex-direction: column;
    max-inline-size: 480px;
  }

  .stacked > * {
    flex: 0 1 auto;
  }

  .stacked select {
    margin-block-end: 0;
  }

  .stacked .selector-available,
  .stacked .selector-chosen {
    inline-size: auto;
  }

  .stacked ul.selector-chooser {
    padding: 0 2px;
    transform: none;
  }

  .stacked .selector-chooser li {
    padding: 3px;
  }

  .help-tooltip,
  .selector .help-icon {
    display: none;
  }

  .datetime input {
    inline-size: 50%;
    max-inline-size: 120px;
  }

  .datetime span {
    font-size: 0.8125rem;
  }

  .datetime .timezonewarning {
    display: block;
    font-size: 0.6875rem;
    color: var(--body-quiet-color);
  }

  .datetimeshortcuts {
    color: var(
      --border-color
    ); /* XXX Redundant, .datetime span also sets #ccc */
  }

  .form-row .datetime input.vDateField,
  .form-row .datetime input.vTimeField {
    inline-size: 75%;
  }

  .inline-group {
    overflow: auto;
  }

  /* Messages */

  ul.messagelist li {
    padding-inline-start: 55px;
    background-position: 30px 12px;
  }

  ul.messagelist li.error {
    background-position: 30px 12px;
  }

  ul.messagelist li.warning {
    background-position: 30px 14px;
  }

  /* Login */

  .login #header {
    padding: 15px 20px;
  }

  .login #site-name {
    margin: 0;
  }

  /* GIS */

  div.olMap {
    max-inline-size: calc(100vw - 30px);
    max-block-size: 300px;
  }

  .olMap + .clear_features {
    display: block;
    margin-block-start: 10px;
  }

  /* Docs */

  .module table.xfull {
    inline-size: 100%;
  }

  pre.literal-block {
    overflow: auto;
  }
}

/* Mobile */

@media (max-width: 767px) {
  /* Layout */

  #header,
  #content {
    padding: 15px;
  }

  div.breadcrumbs {
    padding: 10px 15px;
  }

  /* Dashboard */

  .colMS,
  .colSM {
    margin: 0;
  }

  #content-related,
  .colSM #content-related {
    inline-size: 100%;
    margin: 0;
  }

  #content-related .module {
    margin-block-end: 0;
  }

  #content-related .module h2 {
    padding: 10px 15px;
    font-size: 1rem;
  }

  /* Changelist */

  #changelist {
    align-items: stretch;
    flex-direction: column;
  }

  #toolbar {
    padding: 10px;
  }

  #changelist-filter {
    margin-inline-start: 0;
  }

  #changelist .actions label {
    flex: 1 1;
  }

  #changelist .actions select {
    flex: 1 0;
    inline-size: 100%;
  }

  #changelist .actions span {
    flex: 1 0 100%;
  }

  #changelist-filter {
    position: static;
    inline-size: auto;
    margin-block-start: 30px;
  }

  .object-tools {
    float: none;
    margin: 0 0 15px;
    padding: 0;
    overflow: hidden;
  }

  .object-tools li {
    block-size: auto;
    margin-inline-start: 0;
  }

  .object-tools li + li {
    margin-inline-start: 15px;
  }

  /* Forms */

  .form-row {
    padding: 15px 0;
  }

  .aligned .form-row,
  .aligned .form-row > div {
    max-inline-size: 100vw;
  }

  .aligned .form-row > div {
    inline-size: calc(100vw - 30px);
  }

  .flex-container {
    flex-flow: column;
  }

  .flex-container.checkbox-row {
    flex-flow: row;
  }

  textarea {
    max-inline-size: none;
  }

  .vURLField {
    inline-size: auto;
  }

  fieldset .fieldBox + .fieldBox {
    margin-block-start: 15px;
    padding-block-start: 15px;
  }

  .aligned label {
    inline-size: 100%;
    min-inline-size: auto;
    padding: 0 0 10px;
  }

  .aligned label:after {
    max-block-size: 0;
  }

  .aligned .form-row input,
  .aligned .form-row select,
  .aligned .form-row textarea {
    flex: 1 1 auto;
    max-inline-size: 100%;
  }

  .aligned .checkbox-row input {
    flex: 0 1 auto;
    margin: 0;
  }

  .aligned .vCheckboxLabel {
    flex: 1 0;
    padding: 1px 0 0 5px;
  }

  .aligned label + p,
  .aligned label + div.help,
  .aligned label + div.readonly {
    padding: 0;
    margin-inline-start: 0;
  }

  .aligned p.file-upload {
    font-size: 0.8125rem;
  }

  span.clearable-file-input {
    margin-inline-start: 15px;
  }

  span.clearable-file-input label {
    font-size: 0.8125rem;
    padding-block-end: 0;
  }

  .aligned .timezonewarning {
    flex: 1 0 100%;
    margin-block-start: 5px;
  }

  form .aligned .form-row div.help {
    inline-size: 100%;
    margin: 5px 0 0;
    padding: 0;
  }

  form .aligned ul,
  form .aligned ul.errorlist {
    margin-inline-start: 0;
    padding-inline-start: 0;
  }

  form .aligned div.radiolist {
    margin-block-start: 5px;
    margin-inline-end: 15px;
    margin-block-end: -3px;
  }

  form .aligned div.radiolist:not(.inline) div + div {
    margin-block-start: 5px;
  }

  /* Related widget */

  .related-widget-wrapper {
    inline-size: 100%;
    display: flex;
    align-items: flex-start;
  }

  .related-widget-wrapper .selector {
    order: 1;
    flex: 1 0 auto;
  }

  .related-widget-wrapper > a {
    order: 2;
  }

  .related-widget-wrapper .radiolist ~ a {
    align-self: flex-end;
  }

  .related-widget-wrapper > select ~ a {
    align-self: center;
  }

  /* Selector */

  .selector {
    flex-direction: column;
    gap: 10px 0;
  }

  .selector-available,
  .selector-chosen {
    flex: 1 1 auto;
  }

  .selector select {
    max-block-size: 96px;
  }

  .selector ul.selector-chooser {
    display: flex;
    inline-size: 60px;
    block-size: 30px;
    padding: 0 2px;
    transform: none;
  }

  .selector ul.selector-chooser li {
    float: inline-start;
  }

  .selector-remove {
    background-position: 0 0;
  }

  :enabled.selector-remove:focus,
  :enabled.selector-remove:hover {
    background-position: 0 -24px;
  }

  .selector-add {
    background-position: 0 -48px;
  }

  :enabled.selector-add:focus,
  :enabled.selector-add:hover {
    background-position: 0 -72px;
  }

  /* Inlines */

  .inline-group[data-inline-type="stacked"] .inline-related {
    border: 1px solid var(--hairline-color);
    border-radius: 4px;
    margin-block-start: 15px;
    overflow: auto;
  }

  .inline-group[data-inline-type="stacked"] .inline-related > * {
    box-sizing: border-box;
  }

  .inline-group[data-inline-type="stacked"] .inline-related .module {
    padding: 0 10px;
  }

  .inline-group[data-inline-type="stacked"] .inline-related .module .form-row {
    border-block-start: 1px solid var(--hairline-color);
    border-block-end: none;
  }

  .inline-group[data-inline-type="stacked"]
    .inline-related
    .module
    .form-row:first-child {
    border-block-start: none;
  }

  .inline-group[data-inline-type="stacked"] .inline-related h3 {
    padding: 10px;
    border-block-start-width: 0;
    border-block-end-width: 2px;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
  }

  .inline-group[data-inline-type="stacked"] .inline-related h3 .inline_label {
    margin-inline-end: auto;
  }

  .inline-group[data-inline-type="stacked"] .inline-related h3 span.delete {
    float: none;
    flex: 1 1 100%;
    margin-block-start: 5px;
  }

  .inline-group[data-inline-type="stacked"]
    .aligned
    .form-row
    > div:not([class]) {
    inline-size: 100%;
  }

  .inline-group[data-inline-type="stacked"] .aligned label {
    inline-size: 100%;
  }

  .inline-group[data-inline-type="stacked"] div.add-row {
    margin-block-start: 15px;
    border: 1px solid var(--hairline-color);
    border-radius: 4px;
  }

  .inline-group div.add-row,
  .inline-group .tabular tr.add-row td {
    padding: 0;
  }

  .inline-group div.add-row a,
  .inline-group .tabular tr.add-row td a {
    display: block;
    padding: 8px 10px 8px 26px;
    background-position: 8px 9px;
  }

  /* Submit row */

  .submit-row {
    padding: 10px;
    margin: 0 0 15px;
    flex-direction: column;
    gap: 8px;
  }

  .submit-row input,
  .submit-row input.default,
  .submit-row a {
    text-align: center;
  }

  .submit-row a.closelink {
    padding: 10px 0;
    text-align: center;
  }

  .submit-row a.deletelink {
    margin: 0;
  }

  /* Messages */

  ul.messagelist li {
    padding-inline-start: 40px;
    background-position: 15px 12px;
  }

  ul.messagelist li.error {
    background-position: 15px 12px;
  }

  ul.messagelist li.warning {
    background-position: 15px 14px;
  }

  /* Paginator */

  .paginator .this-page,
  .paginator a:link,
  .paginator a:visited {
    padding: 4px 10px;
  }

  /* Login */

  body.login {
    padding: 0 15px;
  }

  .login #container {
    inline-size: auto;
    max-inline-size: 480px;
    margin: 50px auto;
  }

  .login #header,
  .login #content {
    padding: 15px;
  }

  .login #content-main {
    float: none;
  }

  .login .form-row {
    padding: 0;
  }

  .login .form-row + .form-row {
    margin-block-start: 15px;
  }

  .login .form-row label {
    margin: 0 0 5px;
    line-height: 1.2;
  }

  .login .submit-row {
    padding: 15px 0 0;
  }

  .login br {
    display: none;
  }

  .login .submit-row input {
    margin: 0;
    text-transform: uppercase;
  }

  .errornote {
    margin: 0 0 20px;
    padding: 8px 12px;
    font-size: 0.8125rem;
  }

  /* Calendar and clock */

  .calendarbox,
  .clockbox {
    position: fixed !important;
    inset-block-start: 50% !important;
    inset-inline-start: 50% !important;
    transform: translate(-50%, -50%);
    margin: 0;
    border: none;
    overflow: visible;
  }

  .calendarbox:before,
  .clockbox:before {
    content: "";
    position: fixed;
    inset-block-start: 50%;
    inset-inline-start: 50%;
    inline-size: 100vw;
    block-size: 100vh;
    background: rgba(0, 0, 0, 0.75);
    transform: translate(-50%, -50%);
  }

  .calendarbox > *,
  .clockbox > * {
    position: relative;
    z-index: 1;
  }

  .calendarbox > div:first-child {
    z-index: 2;
  }

  .calendarbox .calendar,
  .clockbox h2 {
    border-radius: 4px 4px 0 0;
    overflow: hidden;
  }

  .calendarbox .calendar-cancel,
  .clockbox .calendar-cancel {
    border-radius: 0 0 4px 4px;
    overflow: hidden;
  }

  .calendar-shortcuts {
    padding: 10px 0;
    font-size: 0.75rem;
    line-height: 0.75rem;
  }

  .calendar-shortcuts a {
    margin: 0 4px;
  }

  .timelist a {
    background: var(--body-bg);
    padding: 4px;
  }

  .calendar-cancel {
    padding: 8px 10px;
  }

  .clockbox h2 {
    padding: 8px 15px;
  }

  .calendar caption {
    padding: 10px;
  }

  .calendarbox .calendarnav-previous,
  .calendarbox .calendarnav-next {
    z-index: 1;
    inset-block-start: 10px;
  }

  /* History */

  table#change-history tbody th,
  table#change-history tbody td {
    font-size: 0.8125rem;
    word-break: break-word;
  }

  table#change-history tbody th {
    inline-size: auto;
  }

  /* Docs */

  table.model tbody th,
  table.model tbody td {
    font-size: 0.8125rem;
    word-break: break-word;
  }
}
